<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>matches</title>

	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
	<link href="style.css" type="text/css" rel="stylesheet"/>
	<!--[if lte IE 8]>
	<link href= "iestyle.css" rel= "stylesheet" media="all" />
	<script>
		var e = ("abbr,article,aside,audio,canvas,datalist,details," +
			"figure,footer,header,hgroup,mark,menu,meter,nav,output," +
			"progress,section,time,video").split(',');
		for (var i = 0; i < e.length; i++) {
			document.createElement(e[i]);
		}

	</script>
	<![endif]-->

	<script>
		var users = [];

		users[0] = {
			name : 'Виктория',
			image : 'photo1.jpg',
			online: true,
			age : '23',
			zodiak : 'Дева',
			city : 'Киев',
			compatibility: '57',
			info : 'Lorem ipsum Laborum ad sint Excepteur ut eiusmod anim nulla in proident consectetur minim voluptate esse Duis in Excepteur officia.',
		};
		users[1] = {
			name : 'Елизаветта',
			image : 'photo2.jpg',
			online: true,
			age : '18',
			zodiak : 'Рак',
			city : 'Донецк',
			compatibility: '13',
			info : 'Lorem ipsum Laborum ad sint Excepteur.',
		};
		users[2] = {
			name : 'Анна',
			image : 'photo3.jpg',
			online: false,
			age : '26',
			zodiak : 'Весы',
			city : 'Львов',
			compatibility: '75',
			info : 'Lorem ipsum Laborum ad sint Excepteur ut eiusmod anim nulla in proident consectetur minim voluptate esse Duis in Excepteur officia. Lorem ipsum Laborum ad sint Excepteur.',
		};
		users[3] = {
			name : 'Дмитрий',
			image : 'photo4.jpg',
			online: true,
			age : '28',
			zodiak : 'Скорпион',
			city : 'Киев',
			compatibility: '4',
			info : 'Lorem ipsum Laborum ad sint Excepteur ut eiusmod anim nulla in proident consectetur minim voluptate esse Duis in Excepteur officia.',
		};
		users[4] = {
			name : 'Олег',
			image : 'photo5.jpg',
			online: true,
			age : '20',
			zodiak : 'Лев',
			city : 'Днепропетровск',
			compatibility: '21',
			info : 'Lorem ipsum Laborum ad sint Excepteur ut eiusmod anim nulla in proident consectetur minim voluptate.',
		};
		users[5] = {
			name : 'Екатерина',
			image : 'photo6.jpg',
			online: false,
			age : '19',
			zodiak : 'Овен',
			city : 'Киев',
			compatibility: '90',
			info : 'Lorem ipsum Laborum ad sint Excepteur ut eiusmod anim nulla in proident consectetur minim voluptate esse Duis in Excepteur officia.',
		};

		$(document).ready(function(){

			var currentUser = 0;

			$('.scale_full').css({'height': users[currentUser].compatibility + '%'});

			$('#dislike, #like').click(function(){

				// определяем следующий индекс
				if (currentUser + 1 < users.length) {

					currentUser += 1;
				} else {

					currentUser = 0;
				}

				// меняем проценты совместимости
				$('.data_percent').fadeOut('slow', function() {$(this).text(users[currentUser].compatibility + '%')}).fadeIn('slow');

				// меняем имя пользователя
				$('.name').fadeOut('slow', function() {$(this).text(users[currentUser].name +',')}).fadeIn('slow');

				// возраст
				$('.age').fadeOut('slow', function() {$(this).text(users[currentUser].age)}).fadeIn('slow');

				// знак зодиака
				$('.zodiak').text(users[currentUser].zodiak);

				// город
				$('.adress').text(users[currentUser].city);

				// описание
				$('.desc').text(users[currentUser].info);

				// онлайн
				if (users[currentUser].online) {

					$('.status').addClass('online');
				} else {

					$('.status').removeClass('online');
				}

				// меняем шкалу
				$('.scale_full').animate({'height' : users[currentUser].compatibility + '%'});

				// меняем фото
				$('.photo_bg').after('<img src="' + users[currentUser].image + '" alt="'+users[currentUser].name +'" class="photo_bg" />');

				var photo_width = $('.photo_bg').outerWidth();

				$('.photo_bg:first').css({
					'position' : 'absolute',
					'top' : '0px',
					'left' : '0px'
				}).animate({'left' : -photo_width + 'px'}, function() {

					$(this).remove();
				});

				$('.photo_bg:last').css({
					'position' : 'absolute',
					'top' : '0px',
					'left' : photo_width
				}).animate({'left' : '0px'}, function() {

					$(this).css({'position' : 'relative'});
				});
			})

			var height_info = $('#info').outerHeight();
			$('#info').css({'bottom': -height_info +'px'});

			$('#info_ico').click(function() {

				height_info = $('#info').outerHeight();

				if (!$('#info').is(':visible')) {

					$('#info').show().animate({'bottom': '0px'});
					$('#like, #dislike').css({
						'position': 'relative',
						'bottom': '0px'
					}).animate({'bottom': (height_info - 20) + 'px'});
				}
			})

			$('body').click(function(e) {

				var clicked = e.target;

				if ($(clicked).parents('#info').length == 0 && $(clicked).attr('id') != 'info_ico' && $(clicked).attr('id') != 'info') {

					$('#info').animate({'bottom': -height_info +'px'}, function() {
						$(this).hide();
					});

					$('#like, #dislike').animate({'bottom': '0px'}, function() {
						$(this).css({'position': 'static'});
					});
				}
			})

			$('#pull_down, .mat_glass').click(function() {

				if ($('nav').is(':visible')) {

					$('nav').animate({'left' : '-320px'}, function() {
							$(this).hide();
					});
					$('.heading').removeClass('blur');
					$('.mat_glass').removeClass('blur');
				}
			});

			$('#pull').click(function() {

				if (!$('nav').is(':visible')) {

					$('nav').show().animate({'left' : '0'});
					$('.heading').addClass('blur');
					$('.mat_glass').addClass('blur');
				}
			});

		})
	</script>

</head>
<body>

<div class="container">
	<header>
		<nav class="clearfix">
			<div class="nav_head clearfix">
				<img src="user.png" alt="" class="photo left">
				<p class="left">
					<span class="use_name">Ростислав</span>
					<span class="user_adress">Днепропетровск</span>
				</p>
				<a href="#" class="settings right"></a>
			</div>
	    	<ul class="clearfix">
			    <li><a href="#">Сообщения</a></li>
			    <li><a href="#">Мне подходят</a></li>
			    <li><a href="#">Мои гости</a></li>
			    <li><a href="#">Я нравлюсь</a></li>
			    <li><a href="#">Мне понравились</a></li>
			    <li><a href="#">Мои совпадения</a></li>
			    <li><a href="#">Избранные</a></li>
			    <li><a href="#">Заблокированные</a></li>
			</ul>
			<a href="#" class="premium"><span>Получить премиум</span></a>
	    	<a href="#" id="pull_down"></a>
		</nav>
		<div class="heading gradient_heading">
			<a href="#" id="pull" class="left"></a>
			<h1 class="title_heading left">Совпадения</h1>
			<div class="message right"><span class="indicator circle">12</span></div>
		</div>
	</header>
	<div class="mat_glass">

		<img src="photo1.jpg" alt="Photo 1" class="photo_bg" />

		<div class="scale_container">
			<span class="data_percent">57%</span>
			<div class="scale">
				<div class="scale_full"></div>
			</div>
		</div>
		<div class="info_prev clearfix">
			<span class="name">Виктория,</span> <span class="age">23</span> <span class="status online circle2"></span>
		</div>
		<footer>
			<a href="#" id="info_ico" title="info"></a>
			<a href="#" id="like" title="like"></a>
			<a href="#" id="dislike" title="dislike"></a>
			<a href="#" id="favorite" title="favorite"></a>
		</footer>
		<div id="info">
			<p class="clearfix"><span class="name left">Виктория</span> <span class="compatibility right">Совместимость: <span class="data_percent">57%</span></span></p>
			<p class="clearfix"><span class="age">23</span> , <span class="zodiak">Дева</span></p>
			<p class="adress">Киев</p>
			<p class="desc">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
		</div>
	</div>
</div>

</body>
</html>

